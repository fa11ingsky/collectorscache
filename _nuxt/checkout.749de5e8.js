import{a as y,b as g,e as C,f,o as a,h as d,i as t,F as v,r as b,w as p,v as k,j as S,t as l,k as _}from"./entry.603b542b.js";const B=10,A=10,u={FBSCOPE:B,EBAYSCP:A};const I={setup(){const s=g();let o=C(),r=f();return{inventory:s,cart:o,cartItems:r}},head(){return{title:"Bounty Box: Collectibles and More - Checkout"}},data(){return{country:"Australia",promoCode:"",loading:!0}},computed:{shipping(){return this.country=="Australia"?10:20},promoApplied(){return this.promoCode.trim()in u},discount(){return u[this.promoCode.trim()]||0},discountTotal(){return parseFloat((this.subtotal*(1-this.discount/100)).toFixed(2))},description(){let s="";for(let o in this.cart)s+=this.cart[o]>0?`${o} x${this.cart[o]} ; `:"";return s+=this.promoCode.trim()in u?`${this.promoCode.trim()}; `:"",s+=`shp${this.shipping}; `,s},subtotal(){let s=0;for(let o in this.cart)s+=this.inventory[o].price*this.cart[o];return s}},methods:{modItem:function(s,o){o==0?this.cart[s]=o:this.cart[s]+o>this.inventory[s].stock||(this.cart[s]+=o),localStorage.cart=JSON.stringify(this.cart)},clearCart:function(){this.cart={},localStorage.cart=JSON.stringify(this.cart)},initPayPalButton:function(s){paypal.Buttons({style:{shape:"rect",color:"blue",layout:"vertical",label:"checkout"},createOrder:function(o,r){return r.order.create({purchase_units:[{description:s.description,amount:{currency_code:"AUD",value:s.discountTotal+s.shipping}}]})},onApprove:function(o,r){return r.order.capture().then(function(e){console.log("Capture result",e,JSON.stringify(e,null,2));const c=document.getElementById("paypal-button-container");c.innerHTML="",c.innerHTML="<h3>Thank you for your payment!</h3>"})},onError:function(o){console.log(o)}}).render("#paypal-button-container")},btoa:function(s){return btoa(s)}},mounted(){setTimeout(()=>{this.loading=!this.loading,Object.keys(this.cart).length>0&&this.initPayPalButton(this)},1e3)}},x={class:"CartContainer container"},P={class:"Header"},T=t("h3",{class:"Heading"},"Shopping Cart",-1),w={class:"cartEntries"},E={class:"Cart-Items"},O={class:"image-box"},F=["href"],M=["src"],N={class:"about"},D={class:"title"},H={class:"counter"},L=["onClick"],U={class:"count"},V=["onClick"],J={class:"prices"},j={class:"amount"},R=["onClick"],Y=t("u",null,"Remove",-1),q=[Y],z=t("hr",null,null,-1),G={class:"shipping-est row"},K=t("div",{class:"deliver-to col-sm-3"},"Ship to:",-1),Q=t("option",null,"Australia",-1),W=t("option",null,"International",-1),X=[Q,W],Z=t("hr",null,null,-1),$={class:"shipping-est row"},tt=t("hr",null,null,-1),ot={class:"checkout"},st={class:"row"},et=t("div",{class:"subtotal col"},"Sub-Total",-1),it={class:"cost col"},nt={class:"row"},ct={class:"total-items items col"},lt={key:0,class:"row"},rt=t("div",{class:"col"},"Discount",-1),at={class:"cost col"},dt={class:"row"},ht=t("div",{class:"col"},"Shipping",-1),_t={class:"cost col"},ut=t("br",null,null,-1),mt={class:"row"},vt=t("div",{class:"total col"},"Total",-1),pt={class:"total cost col"},yt=t("hr",null,null,-1),gt={class:"checkout"},Ct={key:0,class:"total"},ft=t("div",{id:"smart-button-container"},[t("div",{style:{"text-align":"center"}},[t("div",{id:"paypal-button-container"})])],-1);function bt(s,o,r,e,c,i){return a(),d("div",x,[t("div",P,[T,t("h5",{class:"Action",onClick:o[0]||(o[0]=h=>i.clearCart())},"Remove all")]),t("div",w,[(a(!0),d(v,null,b(e.cart,(h,n)=>(a(),d("div",E,[e.cart[n]>0?(a(),d(v,{key:0},[t("div",O,[t("a",{href:"/info/"+e.inventory[n].url},[t("img",{src:"/img/products/"+e.inventory[n].img},null,8,M)],8,F)]),t("div",N,[t("h3",D,l(n),1)]),t("div",H,[t("a",{class:"mod-btn fa-solid fa-circle-plus",onClick:m=>i.modItem(n,1)},null,8,L),t("div",U,l(e.cart[n]),1),t("a",{class:"mod-btn fa-solid fa-circle-minus",onClick:m=>i.modItem(n,-1)},null,8,V)]),t("div",J,[t("div",j,l(e.inventory[n].price*e.cart[n]),1),t("div",{class:"remove",onClick:m=>i.modItem(n,0)},q,8,R)])],64)):_("",!0)]))),256))]),z,t("div",G,[K,p(t("select",{"onUpdate:modelValue":o[1]||(o[1]=h=>c.country=h),class:"col form-select"},X,512),[[k,c.country]])]),Z,t("div",$,[p(t("input",{class:"form-control","onUpdate:modelValue":o[2]||(o[2]=h=>c.promoCode=h),placeholder:"Promo Code"},null,512),[[S,c.promoCode]])]),tt,t("div",ot,[t("div",st,[et,t("div",it,"$"+l(i.subtotal),1)]),t("div",nt,[t("div",ct,l(e.cartItems)+" items",1)]),i.promoApplied?(a(),d("div",lt,[rt,t("div",at,l(i.discount)+"% ("+l(c.promoCode.trim())+")",1)])):_("",!0),t("div",dt,[ht,t("div",_t,"$"+l(i.shipping),1)]),ut,t("div",mt,[vt,t("div",pt,"AUD $"+l(i.discountTotal+i.shipping),1)])]),yt,t("div",gt,[c.loading?(a(),d("div",Ct,"Loading Payment Options...")):_("",!0),ft])])}const St=y(I,[["render",bt]]);export{St as default};
